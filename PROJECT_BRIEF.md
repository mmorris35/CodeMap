# PROJECT_BRIEF.md

## Basic Information

- **Project Name**: CodeMap
- **Project Type**: cli
- **Primary Goal**: Analyze Python codebases to generate dependency graphs and impact maps that link to DevPlanBuilder outputs, enabling change impact analysis and architecture drift detection.
- **Target Users**: Developers using Claude Code with DevPlanBuilder methodology, Teams maintaining legacy Python codebases, Technical leads doing code reviews and refactoring
- **Timeline**: 2 weeks
- **Team Size**: 1

## Functional Requirements

### Key Features (MVP)

1. AST-based code analysis using pyan3 to extract function/class/module dependencies
2. Mermaid diagram generation for visual dependency graphs at module and function levels
3. Bidirectional linking between DEVELOPMENT_PLAN.md task IDs and code symbols
4. CODE_MAP.json output tracking plan-to-code relationships
5. DRIFT_REPORT.md generation showing planned vs implemented discrepancies
6. CLI interface for queries like 'codemap impact src/auth.py::validate_user'
7. Git hook integration for automatic re-analysis on commits

### Nice-to-Have Features (v2)

- Interactive web-based graph explorer using pyvis
- Multi-language support beyond Python
- VSCode extension for inline impact visualization
- Integration with CI/CD for PR impact reports

## Technical Constraints

### Must Use

- Python 3.11+
- pyan3 for AST analysis
- NetworkX for graph operations
- python_mermaid for diagram generation
- Click for CLI

### Cannot Use

- Conda
- Java
- Node.js for core functionality

## Other Constraints

- Must work offline without external API calls
- Analysis must complete in under 30 seconds for codebases up to 50k LOC
- Output formats must be human-readable markdown and JSON
- Must integrate cleanly with existing DevPlanBuilder outputs

## Success Criteria

- All MVP features implemented and working
- Code passes linting and type checking
- Test coverage >= 80%
- Documentation complete

---

*Generated by DevPlan MCP Server*
